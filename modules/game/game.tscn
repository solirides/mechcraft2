[gd_scene load_steps=14 format=3 uid="uid://wbpqro6tssd5"]

[ext_resource type="PackedScene" uid="uid://cdu50wti8uan3" path="res://modules/json/json.tscn" id="1_xadu0"]
[ext_resource type="Texture2D" uid="uid://5am0arvmxore" path="res://assets/factorygame3.png" id="2_j5pph"]
[ext_resource type="TileSet" uid="uid://b5femrdcs2hnt" path="res://generated_tileset.tres" id="3_hq7xd"]
[ext_resource type="Script" path="res://modules/game/tilemap.gd" id="7_2dpiw"]
[ext_resource type="Texture2D" uid="uid://bujtksqumn34r" path="res://assets/textures/blank_slot.png" id="10_xi6q4"]
[ext_resource type="PackedScene" uid="uid://ny288342pj6c" path="res://modules/camera/camera.tscn" id="11_3eovr"]
[ext_resource type="Shader" path="res://assets/shaders/blueprint.gdshader" id="11_co4te"]
[ext_resource type="PackedScene" uid="uid://oshwg28g0vb1" path="res://modules/base/base.tscn" id="11_hq1oq"]
[ext_resource type="AudioStream" uid="uid://bas3vtglhg5ir" path="res://assets/audio/motor.ogg" id="12_udgx0"]
[ext_resource type="AudioStream" uid="uid://dry8dy3gqrkm3" path="res://assets/audio/wind.wav" id="13_45mpe"]
[ext_resource type="Script" path="res://scripts/classes.gd" id="20_ld583"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sp16o"]
shader = ExtResource("11_co4te")
shader_parameter/color = Color(0.3, 0.4, 0.9, 1)
shader_parameter/brightness = 5.0

[sub_resource type="Environment" id="Environment_tiixt"]
background_mode = 3
glow_enabled = true
glow_hdr_threshold = 0.87

[node name="World" type="Node2D"]

[node name="Json" parent="." node_paths=PackedStringArray("tilemap") instance=ExtResource("1_xadu0")]
tilemap = NodePath("../TileMap")

[node name="Marketing" type="Sprite2D" parent="."]
self_modulate = Color(1, 1, 1, 0.247059)
z_index = -10
scale = Vector2(4, 4)
texture = ExtResource("2_j5pph")
centered = false

[node name="WorldBackground" type="ColorRect" parent="."]
z_index = -11
custom_minimum_size = Vector2(4096, 4096)
offset_right = 2048.0
offset_bottom = 2048.0
color = Color(0.117647, 0.141176, 0.164706, 1)

[node name="TileMap" type="TileMap" parent="." node_paths=PackedStringArray("json", "base", "debug", "camera", "selector")]
tile_set = ExtResource("3_hq7xd")
format = 2
layer_0/name = "Tiles"
layer_0/z_index = -5
layer_1/name = "Items"
layer_1/z_index = -3
layer_1/tile_data = PackedInt32Array()
layer_2/name = "Terrain"
layer_2/z_index = -8
layer_2/tile_data = PackedInt32Array()
layer_3/name = "Integrity Overlay"
layer_3/modulate = Color(0.678431, 0.054902, 0.054902, 0.701961)
layer_3/z_index = -1
layer_3/tile_data = PackedInt32Array()
script = ExtResource("7_2dpiw")
json = NodePath("../Json")
base = NodePath("Base")
debug = NodePath("Debug")
camera = NodePath("../Camera")
selector = NodePath("Selector")
tile_size = 32

[node name="Debug" type="Node" parent="TileMap"]

[node name="Selector" type="Sprite2D" parent="TileMap"]
texture = ExtResource("10_xi6q4")
centered = false

[node name="Tile" type="Sprite2D" parent="TileMap/Selector"]
material = SubResource("ShaderMaterial_sp16o")
position = Vector2(16, 16)

[node name="LineX" type="Line2D" parent="TileMap"]
visible = false
points = PackedVector2Array(0, 0, 100, 100)
default_color = Color(0.85098, 0.941176, 0.964706, 0.627451)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="LineY" type="Line2D" parent="TileMap"]
visible = false
points = PackedVector2Array(0, 0, 0, 0)
default_color = Color(0.85098, 0.941176, 0.964706, 0.627451)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Base" parent="TileMap" instance=ExtResource("11_hq1oq")]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="TileMap"]
stream = ExtResource("12_udgx0")
volume_db = -80.0
autoplay = true
bus = &"Ambient"

[node name="AudioStreamPlayer2" type="AudioStreamPlayer" parent="TileMap"]
stream = ExtResource("13_45mpe")
volume_db = -11.207
max_polyphony = 4

[node name="Camera" parent="." node_paths=PackedStringArray("json", "tilemap") instance=ExtResource("11_3eovr")]
json = NodePath("../Json")
tilemap = NodePath("../TileMap")

[node name="WorldSave" type="Node" parent="."]
script = ExtResource("20_ld583")

[node name="Line2D" type="Line2D" parent="."]
visible = false
points = PackedVector2Array(-800, 0, 800, 0)
width = 2.0
default_color = Color(1, 0.0627451, 0.294118, 1)
antialiased = true

[node name="Line2D2" type="Line2D" parent="."]
visible = false
points = PackedVector2Array(0, -800, 0, 800)
width = 2.0
default_color = Color(0.121569, 1, 0.623529, 1)
antialiased = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_tiixt")
