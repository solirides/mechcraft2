[gd_scene load_steps=22 format=3 uid="uid://wbpqro6tssd5"]

[ext_resource type="PackedScene" uid="uid://cdu50wti8uan3" path="res://modules/json/json.tscn" id="1_xadu0"]
[ext_resource type="Texture2D" uid="uid://5am0arvmxore" path="res://assets/factorygame3.png" id="2_j5pph"]
[ext_resource type="Texture2D" uid="uid://y7usubla6juc" path="res://assets/tiles/1-conveyor.png" id="3_kp5hp"]
[ext_resource type="Texture2D" uid="uid://yqteq3q57wm2" path="res://assets/tiles/2-constructor.png" id="4_nj3cm"]
[ext_resource type="Texture2D" uid="uid://dj7h73b0ck0od" path="res://assets/tiles/3-balancer.png" id="5_2blxd"]
[ext_resource type="Texture2D" uid="uid://eg1scyadfujp" path="res://assets/tiles/5-storage.png" id="6_ckvpr"]
[ext_resource type="Script" path="res://modules/game/tilemap.gd" id="7_2dpiw"]
[ext_resource type="Theme" uid="uid://b4us1mhl0qxjp" path="res://assets/theme.tres" id="8_bvp2x"]
[ext_resource type="Texture2D" uid="uid://bujtksqumn34r" path="res://assets/textures/blank_slot.png" id="10_xi6q4"]
[ext_resource type="PackedScene" uid="uid://ny288342pj6c" path="res://modules/camera/camera.tscn" id="11_3eovr"]
[ext_resource type="Shader" path="res://assets/shaders/blueprint.gdshader" id="11_co4te"]
[ext_resource type="Script" path="res://scripts/classes.gd" id="20_ld583"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_tbejw"]
texture = ExtResource("3_kp5hp")
texture_region_size = Vector2i(8, 8)
0:0/next_alternative_id = 2
0:0/0 = 0
0:0/1 = 1
0:0/1/transpose = true

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_y1uis"]
texture = ExtResource("4_nj3cm")
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vmbpx"]
texture = ExtResource("5_2blxd")
0:0/0 = 0

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_rsajy"]
load_path = "res://.godot/imported/4-miner.png-725af819550ba49d44ea822fce8ceeeb.ctex"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_w0fur"]
texture = SubResource("CompressedTexture2D_rsajy")
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_c0vm1"]
texture = ExtResource("6_ckvpr")
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_huth1"]
tile_size = Vector2i(32, 32)
sources/1 = SubResource("TileSetAtlasSource_tbejw")
sources/5 = SubResource("TileSetAtlasSource_c0vm1")
sources/4 = SubResource("TileSetAtlasSource_w0fur")
sources/3 = SubResource("TileSetAtlasSource_vmbpx")
sources/2 = SubResource("TileSetAtlasSource_y1uis")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sp16o"]
shader = ExtResource("11_co4te")
shader_parameter/color = Color(0.3, 0.4, 0.9, 1)
shader_parameter/brightness = 5.0

[sub_resource type="Environment" id="Environment_tiixt"]
background_mode = 3
glow_enabled = true
glow_hdr_threshold = 0.87

[node name="World" type="Node2D"]

[node name="Json" parent="." node_paths=PackedStringArray("tilemap") instance=ExtResource("1_xadu0")]
tilemap = NodePath("../TileMap")

[node name="Marketing" type="Sprite2D" parent="."]
self_modulate = Color(1, 1, 1, 0.247059)
z_index = -10
scale = Vector2(4, 4)
texture = ExtResource("2_j5pph")
centered = false

[node name="WorldBackground" type="ColorRect" parent="."]
z_index = -11
custom_minimum_size = Vector2(4096, 4096)
offset_right = 2048.0
offset_bottom = 2048.0
color = Color(0.117647, 0.141176, 0.164706, 1)

[node name="TileMap" type="TileMap" parent="." node_paths=PackedStringArray("json", "debug_dot", "camera", "selector")]
tile_set = SubResource("TileSet_huth1")
format = 2
layer_0/name = "Tiles"
layer_0/z_index = -5
layer_1/name = "Items"
layer_1/z_index = -3
layer_1/tile_data = PackedInt32Array()
layer_2/name = "Terrain"
layer_2/z_index = -8
layer_2/tile_data = PackedInt32Array()
layer_3/name = "Integrity Overlay"
layer_3/modulate = Color(0.678431, 0.054902, 0.054902, 0.701961)
layer_3/z_index = -1
layer_3/tile_data = PackedInt32Array()
script = ExtResource("7_2dpiw")
json = NodePath("../Json")
debug_dot = NodePath("DebugDot")
camera = NodePath("../Camera")
selector = NodePath("Selector")
tile_size = 32

[node name="DebugDot" type="Polygon2D" parent="TileMap"]
scale = Vector2(4, 4)
color = Color(1, 0, 0.713726, 0.584314)
polygon = PackedVector2Array(1, 1, -1, 1, -1, -1, 1, -1)

[node name="Debug" type="Node" parent="TileMap"]

[node name="DebugText" type="RichTextLabel" parent="TileMap"]
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(0.1, 0.1)
theme = ExtResource("8_bvp2x")
theme_override_font_sizes/normal_font_size = 100
fit_content = true
scroll_active = false

[node name="Selector" type="Sprite2D" parent="TileMap"]
texture = ExtResource("10_xi6q4")
centered = false

[node name="Tile" type="Sprite2D" parent="TileMap/Selector"]
material = SubResource("ShaderMaterial_sp16o")
position = Vector2(16, 16)
texture = ExtResource("3_kp5hp")

[node name="LineX" type="Line2D" parent="TileMap"]
visible = false
points = PackedVector2Array(0, 0, 100, 100)
default_color = Color(0.85098, 0.941176, 0.964706, 0.627451)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="LineY" type="Line2D" parent="TileMap"]
visible = false
points = PackedVector2Array(0, 0, 0, 0)
default_color = Color(0.85098, 0.941176, 0.964706, 0.627451)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Camera" parent="." node_paths=PackedStringArray("json") instance=ExtResource("11_3eovr")]
json = NodePath("../Json")

[node name="WorldSave" type="Node" parent="."]
script = ExtResource("20_ld583")

[node name="Line2D" type="Line2D" parent="."]
visible = false
points = PackedVector2Array(-800, 0, 800, 0)
width = 2.0
default_color = Color(1, 0.0627451, 0.294118, 1)
antialiased = true

[node name="Line2D2" type="Line2D" parent="."]
visible = false
points = PackedVector2Array(0, -800, 0, 800)
width = 2.0
default_color = Color(0.121569, 1, 0.623529, 1)
antialiased = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_tiixt")
